{"version":3,"sources":["queries.js"],"names":["global","recipes","id","title","details","upvotes","reviews","Values","request","response","popularRecipes","query","sort","i","recipe","length","push","status","json","message","Recipessss","Recipes","catch","res","error","body","parseInt","params","recipeId","rev","review","Reviews","splice"],"mappings":";;;;;;;;;;AACAA,OAAOC,OAAP,GAAiB,CACf,EAAEC,IAAI,CAAN,EAASC,OAAO,qBAAhB,EAAuCC,SAAS,qCAAhD,EAAuFC,SAAS,EAAhG,EADe,EAEf,EAAEH,IAAI,CAAN,EAASC,OAAO,aAAhB,EAA+BC,SAAS,mDAAxC,EAA6FC,SAAS,EAAtG,EAFe,EAGf,EAAEH,IAAI,CAAN,EAASC,OAAO,cAAhB,EAAgCC,SAAS,gDAAzC,EAA2FC,SAAS,EAApG,EAHe,EAIf,EAAEH,IAAI,CAAN,EAASC,OAAO,iBAAhB,EAAmCC,SAAS,8CAA5C,EAA4FC,SAAS,CAArG,EAJe,CAAjB;;AAMAL,OAAOM,OAAP,GAAiB,EAAjB;;IAIMC,M;;;;;;;kCAGiBC,O,EAASC,Q,EAAU;AACtC,UAAIC,iBAAiB,EAArB;AACA,UAAIF,QAAQG,KAAR,CAAcC,IAAlB,EAAwB;AACtB,aAAKC,IAAI,CAAT,EAAYA,IAAIb,OAAOc,MAAP,CAAcC,MAA9B,EAAsCF,GAAtC,EAA2C;AACzC,cAAIb,OAAOC,OAAP,CAAeY,CAAf,EAAkBR,OAAlB,GAA4B,EAAhC,EAAoC;AAClCK,2BAAeM,IAAf,CAAoBhB,OAAOC,OAAP,CAAeY,CAAf,CAApB;AACD;AACF;AACDJ,iBAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,kBAAQ,SADgB,EACLE,SAASV,SAASS,IAAT,CAAc,EAAEE,YAAYV,cAAd,EAAd;AADJ,SAA1B;AAGD;AACDD,eAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,gBAAQ,SADgB,EACLE,SAASV,SAASS,IAAT,CAAc,EAAEG,SAASrB,OAAOC,OAAlB,EAAd;AADJ,OAA1B,EAGGqB,KAHH,CAGS;AAAA,eAASC,IAAIN,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHT;AAID;;;iCAEmBhB,O,EAASC,Q,EAAU;AACrC,UAAI,CAACD,QAAQiB,IAAR,CAAatB,KAAd,IAAuB,CAACK,QAAQiB,IAAR,CAAarB,OAAzC,EAAkD;AAChDK,iBAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,kBAAQ,cADgB,EACAE,SAAS;AADT,SAA1B;AAGD;AACDX,cAAQiB,IAAR,CAAapB,OAAb,GAAuB,CAAvB;AACAL,aAAOC,OAAP,CAAee,IAAf,CAAoBR,QAAQiB,IAA5B;AACAhB,eAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,gBAAQ,SADgB,EACLE,SAAS;AADJ,OAA1B,EAGGG,KAHH,CAGS;AAAA,eAASC,IAAIN,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHT;AAID;;;iCAEmBhB,O,EAASC,Q,EAAU;AACrC,WAAK,IAAII,KAAI,CAAb,EAAgBA,KAAIb,OAAOC,OAAP,CAAec,MAAnC,EAA2CF,IAA3C,EAAgD;AAC9C,YAAIb,OAAOC,OAAP,CAAeY,EAAf,EAAkBX,EAAlB,KAAyBwB,SAASlB,QAAQmB,MAAR,CAAeC,QAAxB,EAAkC,EAAlC,CAA7B,EAAoE;AAClE5B,iBAAOC,OAAP,CAAeY,EAAf,EAAkBV,KAAlB,GAA0BK,QAAQiB,IAAR,CAAatB,KAAvC;AACAH,iBAAOC,OAAP,CAAeY,EAAf,EAAkBT,OAAlB,GAA4BI,QAAQiB,IAAR,CAAarB,OAAzC;AACAK,mBAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,oBAAQ,SADgB,EACLE,SAAS;AADJ,WAA1B;AAGD;AACF;AACDV,eAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,gBAAQ,aADgB,EACDE,SAAS;AADR,OAA1B,EAGGG,KAHH,CAGS;AAAA,eAASC,IAAIN,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHT;AAID;;;iCAEmBhB,O,EAASC,Q,EAAU;AACrC,WAAK,IAAII,MAAI,CAAb,EAAgBA,MAAIb,OAAOC,OAAP,CAAec,MAAnC,EAA2CF,KAA3C,EAAgD;AAC9C,YAAIb,OAAOC,OAAP,CAAeY,GAAf,EAAkBX,EAAlB,KAAyBwB,SAASlB,QAAQmB,MAAR,CAAeC,QAAxB,EAAkC,EAAlC,CAA7B,EAAoE;AAClE,cAAIC,MAAM,EAAE3B,IAAIF,OAAOC,OAAP,CAAeY,GAAf,EAAkBX,EAAxB,EAA4BC,OAAOH,OAAOC,OAAP,CAAeY,GAAf,EAAkBV,KAArD,EAA4D2B,QAAQtB,QAAQiB,IAAR,CAAaK,MAAjF,EAAV;AACA9B,iBAAOM,OAAP,CAAeU,IAAf,CAAoBa,GAApB;AACApB,mBAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,oBAAQ,WADgB,EACHE,SAASV,SAASS,IAAT,CAAc,EAAEa,SAAS/B,OAAOM,OAAlB,EAAd;AADN,WAA1B;AAGD;AACF;AACDG,eAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,gBAAQ,WADgB,EACHE,SAAS;AADN,OAA1B,EAGGG,KAHH,CAGS;AAAA,eAASC,IAAIN,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHT;AAID;;;iCAEmBhB,O,EAASC,Q,EAAU;AACrC,WAAK,IAAII,MAAI,CAAb,EAAgBA,MAAIb,OAAOC,OAAP,CAAec,MAAnC,EAA2CF,KAA3C,EAAgD;AAC9C,YAAIb,OAAOC,OAAP,CAAeY,GAAf,EAAkBX,EAAlB,KAAyBwB,SAASlB,QAAQmB,MAAR,CAAeC,QAAxB,EAAkC,EAAlC,CAA7B,EAAoE;AAClE5B,iBAAOC,OAAP,CAAe+B,MAAf,CAAsBnB,GAAtB,EAAyB,CAAzB;AACAJ,mBAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,oBAAQ,SADgB,EACLE,SAAS;AADJ,WAA1B;AAGD;AACF;AACDV,eAASQ,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AACxBD,gBAAQ,cADgB,EACAE,SAAS;AADT,OAA1B,EAGGG,KAHH,CAGS;AAAA,eAASC,IAAIN,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHT;AAID;;;;;;kBAGYjB,M","file":"queries.js","sourceRoot":"C:/Users/Osaze/Desktop/andela-bootcamp27/server/routes","sourcesContent":["\r\nglobal.recipes = [\r\n  { id: 1, title: 'Chicken Speingrolls', details: 'wash chicken, roll in dough and fry', upvotes: 20 },\r\n  { id: 2, title: 'Jollof Rice', details: 'wash rice, boil tomatoes with spice, mix together', upvotes: 10 },\r\n  { id: 3, title: 'Baked Alaska', details: 'bake meringue, fill the inside, torch meringue', upvotes: 18 },\r\n  { id: 4, title: 'Stir Fry Shrimp', details: 'Fry up vegetables, add shrimps, mix together', upvotes: 7 }];\r\n\r\nglobal.reviews = [];\r\n\r\n\r\n\r\nclass Values {\r\n\r\n\r\n  static getAllRecipes(request, response) {\r\n    let popularRecipes = [];\r\n    if (request.query.sort) {\r\n      for (i = 0; i < global.recipe.length; i++) {\r\n        if (global.recipes[i].upvotes > 10) {\r\n          popularRecipes.push(global.recipes[i]);\r\n        }\r\n      }\r\n      response.status(200).json({\r\n        status: 'Success', message: response.json({ Recipessss: popularRecipes })\r\n      });\r\n    }\r\n    response.status(200).json({\r\n      status: 'Success', message: response.json({ Recipes: global.recipes })\r\n    })\r\n      .catch(error => res.status(404).json(error));\r\n  }\r\n\r\n  static submitRecipe(request, response) {\r\n    if (!request.body.title || !request.body.details) {\r\n      response.status(400).json({\r\n        status: 'Unsuccessful', message: 'Missing data input'\r\n      });\r\n    }\r\n    request.body.upvotes = 0;\r\n    global.recipes.push(request.body);\r\n    response.status(201).json({\r\n      status: 'Success', message: 'Submitted Recipe'\r\n    })\r\n      .catch(error => res.status(404).json(error));\r\n  }\r\n\r\n  static updateRecipe(request, response) {\r\n    for (let i = 0; i < global.recipes.length; i++) {\r\n      if (global.recipes[i].id === parseInt(request.params.recipeId, 10)) {\r\n        global.recipes[i].title = request.body.title;\r\n        global.recipes[i].details = request.body.details;\r\n        response.status(200).json({\r\n          status: 'Success', message: 'Updated Recipe'\r\n        });\r\n      }\r\n    }\r\n    response.status(404).json({\r\n      status: 'Unsuccesful', message: 'Recipe Not Found'\r\n    })\r\n      .catch(error => res.status(404).json(error));\r\n  }\r\n\r\n  static reviewRecipe(request, response) {\r\n    for (let i = 0; i < global.recipes.length; i++) {\r\n      if (global.recipes[i].id === parseInt(request.params.recipeId, 10)) {\r\n        let rev = { id: global.recipes[i].id, title: global.recipes[i].title, review: request.body.review };\r\n        global.reviews.push(rev);\r\n        response.status(201).json({\r\n          status: 'Submitted', message: response.json({ Reviews: global.reviews })\r\n        });\r\n      }\r\n    }\r\n    response.status(404).json({\r\n      status: 'Not Found', message: 'Recipe not found'\r\n    })\r\n      .catch(error => res.status(404).json(error));\r\n  }\r\n\r\n  static deleteRecipe(request, response) {\r\n    for (let i = 0; i < global.recipes.length; i++) {\r\n      if (global.recipes[i].id === parseInt(request.params.recipeId, 10)) {\r\n        global.recipes.splice(i, 1);\r\n        response.status(200).json({\r\n          status: 'Success', message: 'Recipe Deleted'\r\n        });\r\n      }\r\n    }\r\n    response.status(404).json({\r\n      status: 'Unsuccessful', message: 'Recipe Not Found'\r\n    })\r\n      .catch(error => res.status(404).json(error));\r\n  }\r\n}\r\n\r\nexport default Values;\r\n\r\n"]}